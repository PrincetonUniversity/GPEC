<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>GPEC v1.5.0 &#8212; GPEC 1.5.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/bootstrap-sphinx.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html"><img height=40, src="_static/GPEC_logo.png">
          <!-- GPEC-->
        </a>
        <!-- <span class="navbar-text navbar-version pull-left"><b>1.5</b></span> -->
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="references.html">Cite</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li><a href="outputs.html">I/O</a></li>
                <li><a href="#">Release History</a></li>
                <li><a href="developers.html">Develop</a></li>
                <li><a href="source_documentation.html">Code</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Jump to <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
            
            
            
            
            
          </ul>
           <!-- 
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
           -->
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/GPEC_logo.png" alt="Logo"/>
            </a></p><ul>
<li><a class="reference internal" href="#">GPEC v1.5.0</a><ul>
<li><a class="reference internal" href="#adds">Adds</a></li>
<li><a class="reference internal" href="#changes">Changes</a></li>
<li><a class="reference internal" href="#fixes">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gpec-v1-4-4">GPEC v1.4.4</a><ul>
<li><a class="reference internal" href="#id1">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gpec-v1-4-3">GPEC v1.4.3</a><ul>
<li><a class="reference internal" href="#id2">Fixes</a></li>
<li><a class="reference internal" href="#id3">Changes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gpec-v1-4-2">GPEC v1.4.2</a><ul>
<li><a class="reference internal" href="#id4">Fixes</a></li>
<li><a class="reference internal" href="#id5">Changes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gpec-v1-4-1">GPEC v1.4.1</a><ul>
<li><a class="reference internal" href="#id6">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gpec-v1-4-0">GPEC v1.4.0</a><ul>
<li><a class="reference internal" href="#id7">Fixes</a></li>
<li><a class="reference internal" href="#id8">Changes</a></li>
<li><a class="reference internal" href="#id9">Adds</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gpec-v1-3-8">GPEC v1.3.8</a><ul>
<li><a class="reference internal" href="#id10">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gpec-v1-3-7">GPEC v1.3.7</a><ul>
<li><a class="reference internal" href="#id11">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gpec-v1-3-6">GPEC v1.3.6</a><ul>
<li><a class="reference internal" href="#id12">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gpec-v1-3-5">GPEC v1.3.5</a><ul>
<li><a class="reference internal" href="#id13">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gpec-v1-3-4">GPEC v1.3.4</a><ul>
<li><a class="reference internal" href="#id14">Fixes</a></li>
<li><a class="reference internal" href="#id15">Adds</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gpec-v1-3-3">GPEC v1.3.3</a><ul>
<li><a class="reference internal" href="#id16">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gpec-v1-3-2">GPEC v1.3.2</a><ul>
<li><a class="reference internal" href="#id17">Adds</a></li>
<li><a class="reference internal" href="#id18">Changes</a></li>
<li><a class="reference internal" href="#id23">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gpec-v1-3-1">GPEC v1.3.1</a><ul>
<li><a class="reference internal" href="#id24">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gpec-v1-3-0">GPEC v1.3.0</a><ul>
<li><a class="reference internal" href="#id25">Adds</a></li>
<li><a class="reference internal" href="#id26">Changes</a></li>
<li><a class="reference internal" href="#id27">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gpec-v1-2-3">GPEC v1.2.3</a><ul>
<li><a class="reference internal" href="#id28">Changes</a></li>
<li><a class="reference internal" href="#id29">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gpec-v1-2-2">GPEC v1.2.2</a><ul>
<li><a class="reference internal" href="#id30">Adds</a></li>
<li><a class="reference internal" href="#id31">Changes</a></li>
<li><a class="reference internal" href="#id32">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gpec-v1-2-1">GPEC v1.2.1</a><ul>
<li><a class="reference internal" href="#id33">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gpec-v1-2-0">GPEC v1.2.0</a><ul>
<li><a class="reference internal" href="#id34">Adds</a></li>
<li><a class="reference internal" href="#id35">Changes</a></li>
<li><a class="reference internal" href="#id36">Fixes</a></li>
<li><a class="reference internal" href="#removes">Removes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gpec-v1-1-7">GPEC v1.1.7</a><ul>
<li><a class="reference internal" href="#features">Features</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gpec-v1-1-6">GPEC v1.1.6</a><ul>
<li><a class="reference internal" href="#id37">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gpec-v1-1-5">GPEC v1.1.5</a><ul>
<li><a class="reference internal" href="#id38">Adds</a></li>
<li><a class="reference internal" href="#id39">Fixes</a></li>
<li><a class="reference internal" href="#documentation">Documentation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gpec-v1-1-4">GPEC v1.1.4</a><ul>
<li><a class="reference internal" href="#id40">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gpec-v1-1-3">GPEC v1.1.3</a><ul>
<li><a class="reference internal" href="#id41">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gpec-v1-1-2">GPEC v1.1.2</a><ul>
<li><a class="reference internal" href="#id42">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gpec-v1-1-1">GPEC v1.1.1</a><ul>
<li><a class="reference internal" href="#id43">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gpec-v1-1-0">GPEC v1.1.0</a><ul>
<li><a class="reference internal" href="#id44">Adds</a></li>
<li><a class="reference internal" href="#id45">Fixes</a></li>
<li><a class="reference internal" href="#id46">Documentation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gpec-v1-0-6">GPEC v1.0.6</a><ul>
<li><a class="reference internal" href="#id47">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gpec-v1-0-5">GPEC v1.0.5</a><ul>
<li><a class="reference internal" href="#id48">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gpec-v1-0-4">GPEC v1.0.4</a></li>
<li><a class="reference internal" href="#gpec-v1-0-3">GPEC v1.0.3</a></li>
<li><a class="reference internal" href="#gpec-v1-0-2">GPEC v1.0.2</a><ul>
<li><a class="reference internal" href="#id49">Adds</a></li>
<li><a class="reference internal" href="#id50">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gpec-v1-0-1">GPEC v1.0.1</a></li>
<li><a class="reference internal" href="#gpec-v1-0-0">GPEC v1.0.0</a><ul>
<li><a class="reference internal" href="#id51">Adds</a></li>
<li><a class="reference internal" href="#id52">Documentation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gpec-v0-4-0">GPEC v0.4.0</a><ul>
<li><a class="reference internal" href="#id53">Fixes</a></li>
<li><a class="reference internal" href="#id54">Features</a></li>
<li><a class="reference internal" href="#id55">Documentation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gpec-v0-3-5">GPEC v0.3.5</a><ul>
<li><a class="reference internal" href="#id56">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gpec-v0-3-4">GPEC v0.3.4</a><ul>
<li><a class="reference internal" href="#id57">Fixes</a></li>
<li><a class="reference internal" href="#id58">Features</a></li>
<li><a class="reference internal" href="#speed-and-stability">Speed and Stability</a></li>
<li><a class="reference internal" href="#id59">Documentation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gpec-v0-3-3">GPEC v0.3.3</a></li>
<li><a class="reference internal" href="#gpec-v0-3-2">GPEC v0.3.2</a></li>
<li><a class="reference internal" href="#gpec-v0-3-1">GPEC v0.3.1</a><ul>
<li><a class="reference internal" href="#id60">Fixes</a></li>
<li><a class="reference internal" href="#id61">Features</a></li>
<li><a class="reference internal" href="#performance">Performance</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gpec-v0-3-0">GPEC v0.3.0</a><ul>
<li><a class="reference internal" href="#id62">Fixes</a></li>
<li><a class="reference internal" href="#id63">Features</a></li>
<li><a class="reference internal" href="#id64">Performance</a></li>
</ul>
</li>
</ul>

<form action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="body col-md-12 content" role="main">
      
  <p id="releases">This is an active, developing scientific research code. The release structure attempt to follow the semantic versioning guidelines. Given a version number MAJOR.MINOR.PATCH,</p>
<ul class="simple">
<li><p>MAJOR version is incremented when incompatible API changes are made,</p></li>
<li><p>MINOR version is incremented when functionality is added in a backwards-compatible manner, and</p></li>
<li><p>PATCH version is incremented when backwards-compatible bug fixes are made.</p></li>
</ul>
<p>Note, backwards compatibility is defined as the ability to return to a previous run and re-run any previously successful executable. This does not guarantee all output file formats are exactly maintained.</p>
<p>The <a class="reference external" href="https://github.com/PrincetonUniversity/GPEC/releases">github release notes</a> are reproduced below.</p>
<section id="gpec-v1-5-0">
<h1>GPEC v1.5.0<a class="headerlink" href="#gpec-v1-5-0" title="Permalink to this headline">¶</a></h1>
<section id="adds">
<h2>Adds<a class="headerlink" href="#adds" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>GPEC - Outputs new J. Callen threshold (w_isl_crit) for edge island penetration, controlled by the singtresh_flag. This requires PENTRC kinetic file inputs.</p></li>
<li><p>GPEC - Outputs new coil to resonant field coupling matrix</p></li>
<li><p>GPEC - Outputs vector potential in cylindrical coordinates</p></li>
<li><p>GPEC - Outputs Delta and Jbgradpsi (bwp in ascii) to netcdf outputs, as well as PEST coordinate Jbgradpsi_pest</p></li>
<li><p>GPEC - Outputs jafac and delpsi profiles via an optional diagnostic routine</p></li>
<li><p>COIL - Adds leading DIII-D M-coil designs</p></li>
<li><p>RMATCH - Adds variable inps_eps=1e-4,1e-7,1e-8 for automatic determination of computational elements, removing xmax_method and replacing xfac with inps_xfac</p></li>
<li><p>RMATCH - Includes production code used to form initialization scans published by Froese &amp; Brennan for General Fusion plasmas</p></li>
<li><p>RMATCH - Adds TRANSP interface module</p></li>
</ul>
</section>
<section id="changes">
<h2>Changes<a class="headerlink" href="#changes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>VACUUM - Implicit uses of integer variables made explicit along with initialization of variables at zero (towards static compilation)</p></li>
<li><p>GPEC - Improves terminal output with table-like formatting and a change from reported averages to vector magnitudes</p></li>
<li><p>COIL - Updates coil dat file reading to use arbitrary x,y,z numerical formatting for higher accuracy</p></li>
<li><p>COIL - Accepts unformatted header lines in coil dat files (still needs to be 3 integers and a float)</p></li>
<li><p>PENTRC - Reduces number of LSODE warnings in energy and pitch integrals</p></li>
<li><p>PYPEC - Makes necessary changes to switch to python3 and updates portal partitions</p></li>
</ul>
</section>
<section id="fixes">
<h2>Fixes<a class="headerlink" href="#fixes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>EQUIL - Adds proper zmid displacement to z grid from g-files (previously, z of equilibria were off by this value - effectively moving the magnetic axis to z=0 in all cases)</p></li>
<li><p>DCON - Forces euler.bin outputs at critical steps on either side of singular surfaces, enabling safe use of euler_stride with GPEC</p></li>
<li><p>DCON - Scans initial guess for inboard and outboard separatrix positions for robustness to deep magnetic wells within g-file domains</p></li>
<li><p>STRIDE - Forces reforming of equil splines with user modified bounds</p></li>
<li><p>GPEC - Fixed units of the perturbed field and displacement in netcdf output (previously, the former’s “m” units were overwritting the field units)</p></li>
<li><p>GPEC - Fixes units of the vacuum resonant flux in the netcdf output</p></li>
<li><p>GPEC - Initializes the coil_indmat values to zero to prevent erroneous values beyond cmlow-cmhigh</p></li>
<li><p>GPEC - Truncates rzphi extrapolations to the core when psilow or qlow sets the start far from the magnetic axis, preventing non-physical values from swamping the output</p></li>
<li><p>VACUUM - Eliminates warning due to searchx declaring incorrect x-array size</p></li>
<li><p>VACUUM - Adds ishape=42 to residual calculation in kernel</p></li>
<li><p>INSTALL - Makes run_examples bash script explicitly use installation’s exes</p></li>
</ul>
</section>
</section>
<section id="gpec-v1-4-4">
<h1>GPEC v1.4.4<a class="headerlink" href="#gpec-v1-4-4" title="Permalink to this headline">¶</a></h1>
<section id="id1">
<h2>Fixes<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>DCON - Fixes output of plasma energy eigenvectors in netcdf</p></li>
</ul>
</section>
</section>
<section id="gpec-v1-4-3">
<h1>GPEC v1.4.3<a class="headerlink" href="#gpec-v1-4-3" title="Permalink to this headline">¶</a></h1>
<section id="id2">
<h2>Fixes<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>VACUUM - Respects the namelist a and lspark when determining whether to write a wall geometry file output</p></li>
<li><p>DCON - Properly spaces the vacuum matrices used when finding the peak dW with psiedge &lt; psilim</p></li>
</ul>
</section>
<section id="id3">
<h2>Changes<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>DCON - dW_edge in the netcdf output now includes the imaginary component of the least stable eigenvalue</p></li>
</ul>
</section>
</section>
<section id="gpec-v1-4-2">
<h1>GPEC v1.4.2<a class="headerlink" href="#gpec-v1-4-2" title="Permalink to this headline">¶</a></h1>
<section id="id4">
<h2>Fixes<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>PENTRC - Respects the namelist verbose setting throughout the program</p></li>
</ul>
</section>
<section id="id5">
<h2>Changes<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>COIL - Updates ASDEX Upgrade coil geometry to have more accurate, rounded cornering</p></li>
</ul>
</section>
</section>
<section id="gpec-v1-4-1">
<h1>GPEC v1.4.1<a class="headerlink" href="#gpec-v1-4-1" title="Permalink to this headline">¶</a></h1>
<section id="id6">
<h2>Fixes<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>GPEC - Corrects helicity for brzphi calculations in machine angle</p></li>
<li><p>PENTRC - Fixes reading of xclebsch displacements from other codes that use psi as the outer loop</p></li>
</ul>
</section>
</section>
<section id="gpec-v1-4-0">
<h1>GPEC v1.4.0<a class="headerlink" href="#gpec-v1-4-0" title="Permalink to this headline">¶</a></h1>
<section id="id7">
<h2>Fixes<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>INSTALL - Support added for compiling on MacOS as well as with gfortran on linux</p></li>
<li><p>VACUUM - Makes ishape 41 use on manual wall robust to a&gt;10 infinite wall tests</p></li>
<li><p>DCON - Corrects for wall time wrap-around when run spans multiple days</p></li>
<li><p>GPEC - Removes (incorrect) units from normalized minor radius netcdf output</p></li>
</ul>
</section>
<section id="id8">
<h2>Changes<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>DCON - Improves parallel assembly of kinetic matrices using collapsed psi and ell loops and dynamic scheduling. This enables efficient use of large parallel_threads.</p></li>
</ul>
</section>
<section id="id9">
<h2>Adds<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>EQUIL - Adds new pow1 and pow2 grid_type options. These grids are linear in core psi_n and approach zero spacing at psihigh linearly/quadratically (packed in the edge).</p></li>
<li><p>DCON - Adds new psiedge variable to dcon_control. When this is below psihigh, DCON records dW(psi) between psiedge and psihigh and re-runs the integration with truncation adjusted to max(dW).</p></li>
<li><p>PENTRC - Adds new option (force_xialpha) that triggers a calculation of tangential from radial displacement (useful for radial displacement inputs from nonlinear codes like JOREK and M3DC1).</p></li>
</ul>
</section>
</section>
<section id="gpec-v1-3-8">
<h1>GPEC v1.3.8<a class="headerlink" href="#gpec-v1-3-8" title="Permalink to this headline">¶</a></h1>
<section id="id10">
<h2>Fixes<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>GPEC - Fixes bug that caused GPEC netcdf to crash when there are no rational surfaces (common when running DCON with kin_flag)</p></li>
<li><p>DCON - Defaults the reform_eq_with_psilim flag to false for better consistency with earlier versions</p></li>
</ul>
</section>
</section>
<section id="gpec-v1-3-7">
<h1>GPEC v1.3.7<a class="headerlink" href="#gpec-v1-3-7" title="Permalink to this headline">¶</a></h1>
<section id="id11">
<h2>Fixes<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>PENTRC - Corrects sqdivxi_perp_SA output, which was being overwritten with sqdBoB_L_SA</p></li>
</ul>
</section>
</section>
<section id="gpec-v1-3-6">
<h1>GPEC v1.3.6<a class="headerlink" href="#gpec-v1-3-6" title="Permalink to this headline">¶</a></h1>
<section id="id12">
<h2>Fixes<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>DCON - Fixes openmp reduction of kinetic matrices when kin_flag=t</p></li>
</ul>
</section>
</section>
<section id="gpec-v1-3-5">
<h1>GPEC v1.3.5<a class="headerlink" href="#gpec-v1-3-5" title="Permalink to this headline">¶</a></h1>
<section id="id13">
<h2>Fixes<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>INSTALL - Minor makefile robustness improvements</p></li>
</ul>
</section>
</section>
<section id="gpec-v1-3-4">
<h1>GPEC v1.3.4<a class="headerlink" href="#gpec-v1-3-4" title="Permalink to this headline">¶</a></h1>
<section id="id14">
<h2>Fixes<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>STRIDE - Fixes faulty writing of 2Nx2N Delta matrix into a NxN Delta_prime in netcdf</p></li>
</ul>
</section>
<section id="id15">
<h2>Adds<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>STRIDE - Writes full 2Nx2N Delta matrix as well as NxN A’, B’, Gamma’, &amp; Delta’ sub-matrices to netcdf</p></li>
</ul>
</section>
</section>
<section id="gpec-v1-3-3">
<h1>GPEC v1.3.3<a class="headerlink" href="#gpec-v1-3-3" title="Permalink to this headline">¶</a></h1>
<section id="id16">
<h2>Fixes<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>DCON - Re-enables inverse equilibria, which raised errors in the more rigorous bicube checking introduced in 1.3.2</p></li>
</ul>
</section>
</section>
<section id="gpec-v1-3-2">
<h1>GPEC v1.3.2<a class="headerlink" href="#gpec-v1-3-2" title="Permalink to this headline">¶</a></h1>
<section id="id17">
<h2>Adds<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>INSTALL - Generalizes makefiles for better portability (intel/pgi/gfortran)</p></li>
<li><p>INSTALL - Enables parallel or serial compilation (controlled by OMPFLAG)</p></li>
<li><p>EXAMPLES - Adds a new example showing how to run rdcon and rmatch to determine tearing instability</p></li>
<li><p>EQUIL - Adds spline root finding subroutines</p></li>
<li><p>DCON - Adds the reform_eq_with_psilim flag to avoid reforming the equilibrium splines to psilim</p></li>
<li><p>GPEC - Adds explicit signfld overlap quantities to netcdf, identical to ascii values</p></li>
<li><p>PENTRC - Adds new dynamic_grid flag to enable skipping dynamic integration if only a static grid output is desired</p></li>
<li><p>PENTRC - Parallelizes pentrc bounce harmonic integrations</p></li>
</ul>
</section>
<section id="id18">
<h2>Changes<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>INSTALL - Updates instructions for new AUG cluster</p></li>
<li><p>GPEC - Moves overlap outputs to control netcdf, consistent with correct dimensions (mode, not psi_rational)</p></li>
<li><p>GPEC - Renames netcdf dimensions <a href="#id19"><span class="problematic" id="id20">*</span></a>_rat to <a href="#id21"><span class="problematic" id="id22">*</span></a>_rational for clarity</p></li>
</ul>
</section>
<section id="id23">
<h2>Fixes<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>DCON - Makes dcon robust to peak_flag when truncation is already very near the seperatrix</p></li>
<li><p>GPEC - Fixes calculation of vacuum fields when using mode_flag</p></li>
<li><p>GPEC - Fixes dimension of local coupling matrices in netcdf</p></li>
<li><p>GPEC - Fixes netcdf output of full complex vsbrzphi</p></li>
<li><p>GPEC - Enables GPEC when DCON used peak_flag</p></li>
<li><p>PENTRC - Makes pitch integration spline evaluations external to avoid conflicts that caused LSODE to fail</p></li>
</ul>
</section>
</section>
<section id="gpec-v1-3-1">
<h1>GPEC v1.3.1<a class="headerlink" href="#gpec-v1-3-1" title="Permalink to this headline">¶</a></h1>
<section id="id24">
<h2>Fixes<a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>INSTALL - Fixes a makefile error</p></li>
</ul>
</section>
</section>
<section id="gpec-v1-3-0">
<h1>GPEC v1.3.0<a class="headerlink" href="#gpec-v1-3-0" title="Permalink to this headline">¶</a></h1>
<section id="id25">
<h2>Adds<a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>STRIDE - Adds the State Transition Rapid Integration with DCON (Asymptotic) Expansions code
* Citations included in docs (website)
* Parallel calculations of plasma stability (delta-W and Delta-prime)</p></li>
<li><p>DCON - Adds new peak_flag that checks the dW every step after the last rational and ends integration at the first local maximum
* This provides a useful for consistent, physics based truncation choice that can be more robust to small EFIT changes</p></li>
</ul>
</section>
<section id="id26">
<h2>Changes<a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>DOCS - Improves online documentation</p></li>
<li><p>INSTALL - Updates flags for intel 2018 and adds instructions for IPP Max-Planck Garching</p></li>
</ul>
</section>
<section id="id27">
<h2>Fixes<a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>DCON - Fixes a formatting error in sing_find.out</p></li>
<li><p>DOCS - Fixes rmatch eta and massdens inputs for DIIID_resisitive_example</p></li>
<li><p>DCON - Fixes inappropriate uses of psihigh, which may not be the end of integration psilim if sas_flag, qhigh, or peak_flag are used</p></li>
</ul>
</section>
</section>
<section id="gpec-v1-2-3">
<h1>GPEC v1.2.3<a class="headerlink" href="#gpec-v1-2-3" title="Permalink to this headline">¶</a></h1>
<section id="id28">
<h2>Changes<a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>DOCS - Modernizes online documentation</p></li>
</ul>
</section>
<section id="id29">
<h2>Fixes<a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>GPEC - Fixes incorrect w_isl unit labeling in netcdf and makes it the full width for consistency with w_isl_v</p></li>
</ul>
</section>
</section>
<section id="gpec-v1-2-2">
<h1>GPEC v1.2.2<a class="headerlink" href="#gpec-v1-2-2" title="Permalink to this headline">¶</a></h1>
<section id="id30">
<h2>Adds<a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>GPEC - Adds new coils for DIII-D, COMPASS, ASDEX Upgrade, and NSTX-U</p></li>
</ul>
</section>
<section id="id31">
<h2>Changes<a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>DOCS - Updates documentation of authors, public installations, and compilation at each institution</p></li>
<li><p>DCON - Makes formatting of surface quantities table in dcon.out consistent between DCON and RDCON</p></li>
<li><p>DCON - Makes sum1.bin (previously sum1.dat) outputs consistent with CALTRANS DCON.</p></li>
<li><p>GPEC - Singular coupling routines are skipped entirely (avoiding possible issues) if no rationals exist in the domain</p></li>
</ul>
</section>
<section id="id32">
<h2>Fixes<a class="headerlink" href="#id32" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>GPEC - Fixes a ss_flag bug so the penetrated vacuum field is calculated on the correct surfaces</p></li>
</ul>
</section>
</section>
<section id="gpec-v1-2-1">
<h1>GPEC v1.2.1<a class="headerlink" href="#gpec-v1-2-1" title="Permalink to this headline">¶</a></h1>
<section id="id33">
<h2>Fixes<a class="headerlink" href="#id33" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>DOCS - Fixes a mismatch in the jacobian’s between GPEC and PENTRC (the torques profiles now match)</p></li>
</ul>
</section>
</section>
<section id="gpec-v1-2-0">
<h1>GPEC v1.2.0<a class="headerlink" href="#gpec-v1-2-0" title="Permalink to this headline">¶</a></h1>
<section id="id34">
<h2>Adds<a class="headerlink" href="#id34" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>RDCON &amp; RMATCH - Adds resistive DCON packages
* Calculates inner layer model and performs matching with ideal outer layer
* Cite [A.H. Glasser, Z.R. Wang, and J.-K. Park, Physics of Plasmas 23, 112506 (2016)]
* Includes new resistive examples</p></li>
<li><p>DCON - Adds ability to calculate bounce harmonics in parallel when forming kinetic matrices for Euler-Lagrange Equation</p></li>
<li><p>DCON - Adds ability to start the Euler-Lagrange ODE integration at or above a minimum safety factor qlow</p></li>
<li><p>DCON - Adds ability to include electron kinetic terms in Euler-Lagrange equation (controlled by the new electron_flag)</p></li>
<li><p>VACUUM - Adds ability to read prescribed wall geometry file</p></li>
<li><p>GPEC - Adds new singfld and signcoup calculations and includes all singcoup and singfld outputs in netcdf
* Delta: is the published resonant coupling metric [Park, Phys. Plasmas 2007] normalized by B.grad(theta) instead of B.grad(phi).
+ This is similar to what is sometimes called external Delta’ in tearing stability theory <strong>need to divide by vacuum</strong>
* Penetrated resonant flux: interpolated across singspot, and physically meaningful for kinetic MHD equilibria only</p></li>
<li><p>DCON, GPEC, &amp; PENTRC - Updates the version based on the compile-time git commit</p></li>
<li><p>DCON, GPEC &amp; PENTRC - Can use a classical spline coefficient solution for “extrap” boundary condition splines, avoiding  a suspected (minor) bug in the original tri-diagonal solution that resulted in large grad-shafranov errors in poorer quality equilibrium (especially inverse or modified equilibrium).
* Previous tri-diagonal spline solutions can be recovered by setting use_classic_splines to false</p></li>
</ul>
</section>
<section id="id35">
<h2>Changes<a class="headerlink" href="#id35" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>DCON - Improves clarity of singular surface search messages</p></li>
<li><p>GPEC - Improves clarity and consistency of singular coupling outputs
* Uses iszinv to invert hermitian fldflxmat
* Uses area normalization of penetrated flux for consistency with effective flux
* Adds unique names for the singcoup mat and svd ascii outputs (enables python reading)</p></li>
<li><p>PYPEC - Improves automatic selection of partitions and threads in job submission and adds rdcon to exe options</p></li>
</ul>
</section>
<section id="id36">
<h2>Fixes<a class="headerlink" href="#id36" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>DCON - Fixes only the the plasma energy matrix written to dcon.out to include full matrix (previously only 2 columns)</p></li>
<li><p>GPEC - Improves clarity and consistency of singular coupling outputs
* Corrects units of Phi_res in netcdf (area normalized, so T not Wb)
* Corrects units and calculation of island width in netcdf (unitless width in psi_n, required a sqrt)</p></li>
<li><p>GPEC - Fixes bug in iszinv for m/=mpert matrices (no impact on previous results, which all used m=mpert)</p></li>
<li><p>GPEC - Fixes bug in the normalization of singular coupling islandwidths (singdfld unchanged)</p></li>
<li><p>GPEC - Fixes poor formatting in response file header</p></li>
<li><p>PENTRC - Corrects the sign of the charge when calculating NTV torque and kinetic delta-W for electrons</p></li>
<li><p>VACUUM - Makes vacuum code robust to namelists without a header line</p></li>
</ul>
</section>
<section id="removes">
<h2>Removes<a class="headerlink" href="#removes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>ALL - Removes official support for all compilers other than intel
* Parallel openmpi calls unique to intel
* Move is consistent with RDCON development path</p></li>
</ul>
</section>
</section>
<section id="gpec-v1-1-7">
<h1>GPEC v1.1.7<a class="headerlink" href="#gpec-v1-1-7" title="Permalink to this headline">¶</a></h1>
<section id="features">
<h2>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>DCON - A new, explicit ion flag toggles whether the ion kinetic energy is included in the kinetic Euler-Lagrange equation</p></li>
</ul>
</section>
</section>
<section id="gpec-v1-1-6">
<h1>GPEC v1.1.6<a class="headerlink" href="#gpec-v1-1-6" title="Permalink to this headline">¶</a></h1>
<p>This release corrects a bug that may have made previous GPEC electron NTV have the incorrect sign.</p>
<section id="id37">
<h2>Fixes<a class="headerlink" href="#id37" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>PENTRC - Corrected the sign of the charge (diamagnetic frequencies, etc) for electron calculations.</p></li>
</ul>
</section>
</section>
<section id="gpec-v1-1-5">
<h1>GPEC v1.1.5<a class="headerlink" href="#gpec-v1-1-5" title="Permalink to this headline">¶</a></h1>
<p>This version includes a minor but important change to make the ideal GPEC eigenfunctions almost identical to those from DCON in IPEC. A power extraction essential for numerical stability when forming the fundamental H and G matrices in the kinetic solutions has been removed from the ideal calculations for consistency with the previous calculations in the ideal case.</p>
<section id="id38">
<h2>Adds<a class="headerlink" href="#id38" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>COIL - New coils are available for JET, NSTX, and COMPASS. The number of coils usable in a run increased.</p></li>
<li><p>GPEC - The q, rho, and volume profiles are included in the netcdf output if any profile output is requested.</p></li>
<li><p>GPEC - The local coupling matrix between opsi1 and opsi2 and corresponding svd vectors are available. <strong>needs netcdf output??</strong></p></li>
</ul>
</section>
<section id="id39">
<h2>Fixes<a class="headerlink" href="#id39" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>DCON - Fundamental matrices only use power extraction technique when kin_flag is true.</p></li>
<li><p>PENTRC - Progressbars are now called at the end of do loops for more precise reporting.</p></li>
<li><p>PENTRC - Torque estimation from surface currents is now recorded in harvest and netcdf.</p></li>
</ul>
</section>
<section id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>EXAMPLES - Examples now include “run” examples with J.-K. Park’s typical workflow and settings.</p></li>
<li><p>INPUT - Annotations and settings of default input namelists include minor changes.</p></li>
<li><p>PYPEC - Mayavi instructions are updated for latest portal python installations.</p></li>
</ul>
</section>
</section>
<section id="gpec-v1-1-4">
<h1>GPEC v1.1.4<a class="headerlink" href="#gpec-v1-1-4" title="Permalink to this headline">¶</a></h1>
<section id="id40">
<h2>Fixes<a class="headerlink" href="#id40" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>COIL - Fixed faulty 1.1.3 implementation of increasing the east coil windings.</p></li>
</ul>
</section>
</section>
<section id="gpec-v1-1-3">
<h1>GPEC v1.1.3<a class="headerlink" href="#gpec-v1-1-3" title="Permalink to this headline">¶</a></h1>
<section id="id41">
<h2>Fixes<a class="headerlink" href="#id41" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>COIL - Increased the number of windings for the up and down EAST coil arrays</p></li>
</ul>
</section>
</section>
<section id="gpec-v1-1-2">
<h1>GPEC v1.1.2<a class="headerlink" href="#gpec-v1-1-2" title="Permalink to this headline">¶</a></h1>
<section id="id42">
<h2>Fixes<a class="headerlink" href="#id42" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>PENTRC - Now successfully writes kinetic profiles on the equilibrium grid to netcdf files</p></li>
</ul>
</section>
</section>
<section id="gpec-v1-1-1">
<h1>GPEC v1.1.1<a class="headerlink" href="#gpec-v1-1-1" title="Permalink to this headline">¶</a></h1>
<section id="id43">
<h2>Fixes<a class="headerlink" href="#id43" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>PYPEC - A bug was fixed in the python processing tools’ optimize_torque function</p></li>
</ul>
</section>
</section>
<section id="gpec-v1-1-0">
<h1>GPEC v1.1.0<a class="headerlink" href="#gpec-v1-1-0" title="Permalink to this headline">¶</a></h1>
<p>This release includes a new DCON netcdf output file and SLURM job submission interface in PYPEC for compatibility with the new portal and iris computing standards. Details are below.</p>
<section id="id44">
<h2>Adds<a class="headerlink" href="#id44" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>DCON - A clean, efficient netcdf file replicates the information in the complicated dcon.out ascii.</p></li>
<li><p>DCON - The new namelist variable, out_fund, toggles fundamental matrix output (ABCDEH in imats.out fs.bin, ks.bin and gs.bin).</p></li>
<li><p>COIL - KSTAR and EAST coils are available.</p></li>
<li><p>COIL - A NSTX-U error field model is available.</p></li>
<li><p>GPEC - Control netcdf outputs include the external flux applied from each coil and coil names.</p></li>
<li><p>GPEC - Profile netcdf outputs include rational surface quantities, coil names, and vsbrzphi, xbrzphifun, and arzphifun outputs.</p></li>
<li><p>GPEC - Code is robust to singfld_flag with con_flag.</p></li>
<li><p>GPEC - The new namelist variables, ascii_flag and netcdf_flag, toggle all ascii and netcdf outputs respectively.</p></li>
<li><p>PYPEC - SLURM job submission.</p></li>
<li><p>PYPEC - Post processing includes a function that updates netcdf naming conventions to be consistent with the latest version.</p></li>
<li><p>PYPEC - Backwards compatibility for running ipec is available.</p></li>
<li><p>REGRESSION - Tools for comparing versions are available.</p></li>
</ul>
</section>
<section id="id45">
<h2>Fixes<a class="headerlink" href="#id45" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>DCON, GPEC, PENTRC - Timers were fixed to correctly handle multi-day runs.</p></li>
<li><p>DCON - Ascii formatting is updated for complex eigenvalue energies.</p></li>
<li><p>GPEC - An indexing offset in calculation in dw_flag torque matrix output was fixed.</p></li>
<li><p>GPEC - Appropriate ascii closing was added.</p></li>
</ul>
</section>
<section id="id46">
<h2>Documentation<a class="headerlink" href="#id46" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>DOCS - Documentation includes compare module.</p></li>
<li><p>INPUT - Annotations and settings of default input namelists include minor changes.</p></li>
</ul>
</section>
</section>
<section id="gpec-v1-0-6">
<h1>GPEC v1.0.6<a class="headerlink" href="#gpec-v1-0-6" title="Permalink to this headline">¶</a></h1>
<p>This patch features fixes to a number of deeply embedded indexing and memory allocation bugs. This is necessary for compiler robustness. The regression examples show essentially no change in the results to machine precision on portal.</p>
<section id="id47">
<h2>Fixes<a class="headerlink" href="#id47" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>VACUUM &amp; LSODE - This patch fixes the misallocation of memory for input arrays in a number of old subroutines.</p></li>
<li><p>EQUIL - This patch fixes the misallocation of memory for temporary arrays in Fourier spline fitting.</p></li>
<li><p>GPEC - This patch fixes an index offset in the matrices forming the torque matrix profile.</p></li>
</ul>
</section>
</section>
<section id="gpec-v1-0-5">
<h1>GPEC v1.0.5<a class="headerlink" href="#gpec-v1-0-5" title="Permalink to this headline">¶</a></h1>
<section id="id48">
<h2>Fixes<a class="headerlink" href="#id48" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Fixed normalization of filter_flag energy normalized field decomposition.</p></li>
</ul>
<p>This bug was introduced with the new normalized field (T) convention in 1.0.2. To correct the decomposed energy normalized flux O_*Phi_xe in versions 1.0.2-1.0.4, multiply by 1/sqrt(A).</p>
</section>
</section>
<section id="gpec-v1-0-4">
<h1>GPEC v1.0.4<a class="headerlink" href="#gpec-v1-0-4" title="Permalink to this headline">¶</a></h1>
<p>Avoids repetition of dimensions in control netcdf J_surf_2.
Note this is not critical for the netcdf, but necessary for the way pypec and xarray treat dimensions.</p>
</section>
<section id="gpec-v1-0-3">
<h1>GPEC v1.0.3<a class="headerlink" href="#gpec-v1-0-3" title="Permalink to this headline">¶</a></h1>
<p>This patch fixes a mis-labeling of the control netcdf Phi_fun and Phi_x_fun units. The units are Wb.</p>
</section>
<section id="gpec-v1-0-2">
<h1>GPEC v1.0.2<a class="headerlink" href="#gpec-v1-0-2" title="Permalink to this headline">¶</a></h1>
<p>This patch features one bug fix and one addition to the netcdf output.</p>
<section id="id49">
<h2>Adds<a class="headerlink" href="#id49" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>A transform matrix J_surf_2 has been added to the control netcdf. This matrix applies a dimensionless half-area weighting.</p></li>
</ul>
</section>
<section id="id50">
<h2>Fixes<a class="headerlink" href="#id50" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>The netcdf output Phi_xe has been changed from “energy-normalized flux” with units Wb/m to “energy-normalized field” with units of Tesla. The related *_xe matrices have been similarly normalized. No physics is changed, only the scalar area normalization.</p></li>
</ul>
</section>
</section>
<section id="gpec-v1-0-1">
<h1>GPEC v1.0.1<a class="headerlink" href="#gpec-v1-0-1" title="Permalink to this headline">¶</a></h1>
<p>This patch cleans up the input directory, removing deprecated files.</p>
</section>
<section id="gpec-v1-0-0">
<h1>GPEC v1.0.0<a class="headerlink" href="#gpec-v1-0-0" title="Permalink to this headline">¶</a></h1>
<p>This major release marks the true transition from individual ideal perturbed equilibrium calculations to a fully generalized perturbed equilibrium package.</p>
<p>The Perturbed Equilibrium Nonambipolar TRansport Code (PENTRC) is used to calculate the neoclassical drift kinetic pressure matrixes required to minimize the hybrid kinetic-MHD perturbed energy and find a set of force balance states. The computational structure of the ideal DCON code is largely maintained in finding these states, although generalizations and modifications have been made to account for new mathematical properties. Foremost among these are 1) the absence of hermitian properties and 2) the integrable nature of singularities near the rational surfaces. Generalization of the linear algebra and new decomposition / recomposition of the matrices required by these changes are now used for both the ideal and kinetic calculations.</p>
<p>The Ideal Perturbed Equilibrium Code (IPEC) has officially been deprecated and is now the package namesake: the Generalized Perturbed Equilibrium Code (GPEC). The foundational computational changes are much less than in the above case however, with only a few minor generalizations of hermitian linear algebra assumptions.</p>
<section id="id51">
<h2>Adds<a class="headerlink" href="#id51" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul>
<li><p>DCON inclusion of kinetic terms is now determined by the kin_flag input.</p>
<blockquote>
<div><ul class="simple">
<li><p>Additional dcon_control namelist inputs can be used to control the kinetic calculations</p></li>
</ul>
</div></blockquote>
</li>
<li><p>IPEC now calculates generalized perturbed equilibrium (no assumption that the force balance states form a hermitian matrix)</p></li>
<li><p>IPEC netcdf output is nearly complete and naming conventions are official</p></li>
<li><p>PENTRC now has fully netcdf output unless ascii is specifically requested by the user</p>
<blockquote>
<div><ul class="simple">
<li><p>Output is now separated from calculations, setting the stage for parallelization</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</section>
<section id="id52">
<h2>Documentation<a class="headerlink" href="#id52" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><p>Example runs have been split into ideal and kinetic examples to show the kinetic effects</p></li>
<li><p>An “a10” example has been added for simple circular-large-aspect-ratio intuition</p></li>
</ul>
</div></blockquote>
</section>
</section>
<section id="gpec-v0-4-0">
<h1>GPEC v0.4.0<a class="headerlink" href="#gpec-v0-4-0" title="Permalink to this headline">¶</a></h1>
<p>This release includes a number of minor I/O changes and convenient default input features as well as a few minor bug fixes.</p>
<section id="id53">
<h2>Fixes<a class="headerlink" href="#id53" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>MATCH updated interface for changes DCON file formats</p></li>
<li><p>IPEC fixed alignment of columns in xclebsch_fun output</p></li>
</ul>
</section>
<section id="id54">
<h2>Features<a class="headerlink" href="#id54" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>DCON, IPEC, PENTRC all accept the additional Jacobian type ‘park’</p>
<ul>
<li><p>Sets the power of (b,bp,r) to (1,0,0)</p></li>
</ul>
</li>
<li><p>IPEC includes (r,z) in xclebsch_fun output</p></li>
<li><p>COIL, PENTRC the data_dir used to look up hardcoded data now accepts defaults to $GPECHOME/pentrc</p>
<ul>
<li><p>This option is used when set to ‘default’ or ‘’</p></li>
</ul>
</li>
<li><p>PENTRC now includes a valid circular large-aspect-ratio calculation</p>
<ul>
<li><p>Calculates Eq. (19) from [Logan, Phys. Plasmas, 2013] using Eqs. (10-12) from [Park, Phys. Rev. Lett. 2009] with the kappa dependence</p></li>
<li><p>Previous versions included this flag as a placeholder only and should not be used</p></li>
</ul>
</li>
</ul>
</section>
<section id="id55">
<h2>Documentation<a class="headerlink" href="#id55" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Example namelists updated to use native coordinates throughout for increased speed and clarity</p></li>
</ul>
</section>
</section>
<section id="gpec-v0-3-5">
<h1>GPEC v0.3.5<a class="headerlink" href="#gpec-v0-3-5" title="Permalink to this headline">¶</a></h1>
<p>This release includes critical bug fixes for the nonambipolar transport calculations in PENTRC.</p>
<section id="id56">
<h2>Fixes<a class="headerlink" href="#id56" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>PENTRC a correction factor of 1/2 has been applied to the fcgl, *gar, and *mm methods to correctly represent quadratic terms using complex analysis</p></li>
<li><p>PENTRC xclebsch is now correctly transformed back to DCON working coordinates when output on more m than the DCON mpert.</p></li>
</ul>
</section>
</section>
<section id="gpec-v0-3-4">
<h1>GPEC v0.3.4<a class="headerlink" href="#gpec-v0-3-4" title="Permalink to this headline">¶</a></h1>
<p>This release includes a number of critical bug fixes found and fixed in a general review of the ideal MHD package in preparation of the move to kinetic MHD version 0.4.0 under development. It also includes a few (re-)standardizations of features.</p>
<section id="id57">
<h2>Fixes<a class="headerlink" href="#id57" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>PENTRC +/- omega_b included for passing and not trapped particles, removing unphysical symmetry in ell of trapped particle torques</p>
<ul>
<li><p><strong>All previous 0.3 version torques should be considered incorrect</strong></p></li>
</ul>
</li>
<li><p>PENTRC fixed bug in inverse Fourier transformation of perturbed quantities and fixed (removed) JBB normalization of perturbed quantity splines for consistent treatment in GAR, LAR, and GCL methods (now benchmarked with PENT).</p>
<ul>
<li><p><strong>All previous 0.3 version LAR and CGL torques should be considered incorrect</strong></p></li>
</ul>
</li>
<li><p>PENTRC returned factor of 2 to all GAR methods (now benchmarked against PENT for MDC2 cases)</p></li>
<li><p>PENTRC fixed radial grid outputs from (over)writing sum and individual ell profiles to same file</p></li>
<li><p>PENTRC enforce psi limits on grid outputs</p></li>
<li><p>IPEC fixed bug in writing O_CX, b_nm, b_xnm, xi_nm, and xi_xnm to control netcdf file</p>
<ul>
<li><p><strong>All previous 0.3 version values should be considered incorrect</strong></p></li>
</ul>
</li>
<li><p>IPEC working jacobian power factors are explicitly enforced when jac_in or jac_out re not specified</p></li>
<li><p>IPEC fixed bug using wrong jacobian and angle in ipeq_fcoordsout conversions (not used in any previous version)</p></li>
<li><p>IPEC ipeq_fcoordsout and ipeq_bcoordsout always perform transformation on larger of the working/output m grids (not expected to be an issue for previous versions)</p></li>
</ul>
</section>
<section id="id58">
<h2>Features<a class="headerlink" href="#id58" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>IPEC output coordinate m range is now determined by a new IPEC_OUTPUT variable mlim_out</p></li>
<li><p>IPEC the control surface theta-space function values are now always calculated and output</p></li>
<li><p>IPEC bwp_pest_flag is now true by default and produces pest ouputs for both xbnormal and vbnormal</p></li>
<li><p>IPEC xclebsch outputs are now converted to output coordinates and theta-space outputs are available</p></li>
<li><p>PENTRC now accepts jsurf_in, tmag_in and all individual powers of the jac_in, allowing it to interface with IPEC’s new xclebsch outputs that are transformed from the working to ipec output coordinates</p>
<ul>
<li><p>Coordinate transformation back to the DCON working coordinates is done on the large of the working/input m grids</p></li>
</ul>
</li>
<li><p>IPEC added helicity to control and profile netcdf outputs</p></li>
<li><p>PENTRC now has the option to override the perturbed quantities calculated using the xclebsch interface with a direct ipec_pmodb ascii interface (when the user specifies a pmodb_file)</p></li>
<li><p>PENTRC now enforces that a substring of the form ‘n#’ where # is the DCON toroidal mode number be in the peq_file file name</p></li>
</ul>
</section>
<section id="speed-and-stability">
<h2>Speed and Stability<a class="headerlink" href="#speed-and-stability" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>PENTRC only runs the psi_out surfaces if detailed outputs are actually requested</p></li>
<li><p>PENTRC exclude trapped/passing boundary from pitch-space splines using power-grids approaching from either side</p></li>
<li><p>INSTALL and all individual makefiles have updated from the develop branch, reorganizing the linking order and allowing diverse machine/compiler options.</p></li>
</ul>
</section>
<section id="id59">
<h2>Documentation<a class="headerlink" href="#id59" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Updated input and example namelists and their annotation</p></li>
</ul>
</section>
</section>
<section id="gpec-v0-3-3">
<h1>GPEC v0.3.3<a class="headerlink" href="#gpec-v0-3-3" title="Permalink to this headline">¶</a></h1>
<p>This release features a critical bug fix for control surface netcdf output and pmodb/xbnormal outputs</p>
<ul class="simple">
<li><p>All area normalized or energy normalized quantities were incorrectly converted to the users specified jac_out coordinates. All quantities are now in the DCON jac_type coordinate system unless specifically noted otherwise.</p></li>
<li><p>The jacobian and surface area have been added to the control netcdf as global attributes</p></li>
<li><p>The filtering of singular coupling modes is now done entirely within the DCON coordinate system, for which a new singular coupling matrix is formed and SVD’d.</p></li>
<li><p>Bugs in the use of bcoordsout for pmodb and xbnormal profile quantities that wrote the first variable to multiple variables (i.e. eulb to lagb) were fixed.</p></li>
<li><p>A Bug in the weighting of the bwp profile was fixed</p></li>
</ul>
</section>
<section id="gpec-v0-3-2">
<h1>GPEC v0.3.2<a class="headerlink" href="#gpec-v0-3-2" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>This release features a critical bug fix for control surface ascii output Phi^x.</p>
<ul>
<li><p>If the jac_out was not the working jac_type Phi^x outputs in the jac_out table were mistakenly in the jac_in coordinate system.</p></li>
</ul>
</li>
<li><p>The external and total flux have been added to the control netcdf alongside their previously stored energy normalized values.</p></li>
</ul>
</section>
<section id="gpec-v0-3-1">
<h1>GPEC v0.3.1<a class="headerlink" href="#gpec-v0-3-1" title="Permalink to this headline">¶</a></h1>
<section id="id60">
<h2>Fixes<a class="headerlink" href="#id60" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>IPEC fixed mistaken use of Hermitian lapack subroutines for permeability matrix</p></li>
<li><p>PYPEC synthetics properly closes synthetic surfaces that cover the full poloidal angle (vessel wall, etc.)</p></li>
<li><p>PYPEC coil plotting bug fixes for axes and color key words</p></li>
<li><p>PYPEC updated to reflect move from xray to xarray</p></li>
</ul>
</section>
<section id="id61">
<h2>Features<a class="headerlink" href="#id61" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>IPEC netcdf additions, including control surface matrices, profile quantities, shot/time/machine, and more</p></li>
<li><p>IPEC netcdf names conform to netcdf conventions</p></li>
<li><p>IPEC all netcdf outputs converted to jac_out</p></li>
<li><p>IPEC filter decomposition modes are now all in ascending order (SVD convention)</p></li>
<li><p>IPEC added amplification to filter modes</p></li>
<li><p>COIL added MAST coils</p></li>
<li><p>PENTRC added new grid options, which now include equil_grid or input_grid (i.e. the DCON grid)</p></li>
<li><p>PYPEC improved ascii/netcdf interface using data.open_dataset</p></li>
<li><p>PYPEC synthetics now includes magnetic sensors</p></li>
<li><p>PYPEC add_control_geometry function expands control surface geometry for 2D and 3D plots</p></li>
<li><p>PYPEC improved colormaps and automatic colormap choices</p></li>
<li><p>PYPEC now uses seaborn for context/palettes, has custom set_context function</p></li>
<li><p>PYPEC custom subplots automatically re-size figure to keep axes size</p></li>
<li><p>PYPEC now has png_to_gif function for making movies</p></li>
</ul>
</section>
<section id="performance">
<h2>Performance<a class="headerlink" href="#performance" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Improved speed of ipeq_bcoordsout/ipeq_fcoordsout by checking for unnecessary calls to ipeq_fcoords/ipeq_bcoords</p></li>
</ul>
</section>
</section>
<section id="gpec-v0-3-0">
<h1>GPEC v0.3.0<a class="headerlink" href="#gpec-v0-3-0" title="Permalink to this headline">¶</a></h1>
<section id="id62">
<h2>Fixes<a class="headerlink" href="#id62" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>DCON qhigh is enforced independent of sas_flag</p></li>
<li><p>IPEC longstanding bug that caused crashes when brzphi was requested without eqbrzphi is fixed</p></li>
<li><p>IPEC mthsurf bug fixed</p>
<ul>
<li><p>Benchmarks show perfect recovery of excessively high DCON mthsurf results using mthsurf=1</p></li>
</ul>
</li>
</ul>
</section>
<section id="id63">
<h2>Features<a class="headerlink" href="#id63" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>COIL now includes 4x48 RFX-mod coils</p></li>
<li><p>IPEC netCDF output is now available for major output flags (more will be transitioned soon)</p>
<ul>
<li><p>Currently netCDF files include: filter_flag, x/brzphi_flag, xbnormal_flag, pmodb_flag, and control surface fun_flag outputs</p></li>
</ul>
</li>
<li><p>IPEC output subroutines can now be individually timed using the timeit flag</p></li>
<li><p>IPEC mode filtering has a new filter_type, filter_modes interface in IPEC_INPUT</p></li>
<li><p>IPEC reduced terminal printing - no longer is every eigenmode printed to the terminal</p></li>
</ul>
</section>
<section id="id64">
<h2>Performance<a class="headerlink" href="#id64" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>IPEC speed was increased by saving coordinate transformation information on a surface when performing multiple transformations on one surface</p></li>
<li><p>IPEC brzphi speed was increase by 1-2 orders of magnitude by calculating (r,z,phi) quantities on the requested grid points instead of across surfaces</p></li>
<li><p>IPEC speed can now be confidently increased by a large factor using the mthsurf flag (see bug fix)</p></li>
<li><p>IPEC compiler optimizability increased with the switch from pointers to allocatable arrays</p></li>
</ul>
</section>
</section>


    </div>
    
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="_sources/releases.rst.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2015, PPPL.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.5.0.<br/>
    </p>
  </div>
</footer>
  </body>
</html>