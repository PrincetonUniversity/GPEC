
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
        <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Developers Corner &#8212; GPEC 1.0.5 documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Contact Information" href="contact.html" />
    <link rel="prev" title="Accessing Releases" href="releases.html" /> 
  </head><body>

<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
<a href="index.html"><img src="_static/logo.png" border="0" alt="py4sci"/></a>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="contact.html" title="Contact Information"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="releases.html" title="Accessing Releases"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">home</a>|&nbsp;</li>
        <li><a href="search.html">search</a>|&nbsp;</li>
 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Developers Corner</a><ul>
<li><a class="reference internal" href="#general-perturbed-equilibrium-codes">General Perturbed Equilibrium Codes</a><ul>
<li><a class="reference internal" href="#development">Development</a></li>
<li><a class="reference internal" href="#documentation">Documentation</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="releases.html"
                        title="previous chapter">Accessing Releases</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="contact.html"
                        title="next chapter">Contact Information</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/developers.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="developers-corner">
<span id="developing"></span><h1>Developers Corner<a class="headerlink" href="#developers-corner" title="Permalink to this headline">¶</a></h1>
<p>This section reproduces the package readme, with instructions for obtaining and contributing to the GPEC code development.</p>
<div class="section" id="general-perturbed-equilibrium-codes">
<h2>General Perturbed Equilibrium Codes<a class="headerlink" href="#general-perturbed-equilibrium-codes" title="Permalink to this headline">¶</a></h2>
<p>This package contains a suite of nonaxisymmetric stability and perturbed equilibrium codes including DCON, GPEC, RPEC, GPEC, and PENTRC.</p>
<p>The primary purpose of this package is to calculated the nonaxisymmetric force balance in tokamak plasmas.</p>
<p>Note that the DCON code was developed by Alan H. Glasser at Los Alamos National Laboratory, while GPEC and PENTRC were developed and are maintained by the GPEC team at the Princeton Plasma Physics Laboratory.</p>
<div class="section" id="development">
<h3>Development<a class="headerlink" href="#development" title="Permalink to this headline">¶</a></h3>
<p>There is a <a class="reference external" href="https://github.com/PrincetonUniversity/GPEC">Github repository</a> for this package to facilitate version control and collaborative contributions.</p>
<p>To become a contributor to the GPEC package, contact <a class="reference external" href="mailto:nlogan&#37;&#52;&#48;pppl&#46;gov">nlogan<span>&#64;</span>pppl<span>&#46;</span>gov</a> to be added to the development team. Next, go the the Github repository to familiarize yourself with the documentation, branch structure, latest commits, etc. While there, go ahead and copy the HTTPS clone URL from the box in the right side panel. Finally, create a directory on your local machine, clone the repository, and checkout the appropriate branch in order to start contributing.</p>
<p>On the PPPL portal computers, navigate to a directory in which you want to do your development (something like /p/gpec/users/&lt;username&gt;/gpec) and use following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="o">&lt;</span><span class="n">copied</span><span class="o">-</span><span class="n">url</span><span class="o">-</span><span class="n">from</span><span class="o">-</span><span class="n">github</span><span class="o">&gt;</span> <span class="n">gpec</span>
<span class="n">cd</span> <span class="n">gpec</span>
<span class="n">git</span> <span class="n">checkout</span> <span class="o">-</span><span class="n">b</span> <span class="n">develop</span>
<span class="n">git</span> <span class="n">pull</span> <span class="n">origin</span> <span class="n">develop</span>
</pre></div>
</div>
<p>This will create a directory ‘gpec’ and with the developmental branch of the repository in it. For more on branches, see the workflow section below. For compile instructions, see the install section. Now you are free to add/edit files in this branch. Be sure to use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">add</span> <span class="o">&lt;</span><span class="n">new</span><span class="o">-</span><span class="n">file</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>when creating new files, so that they come under version control. Be sure to make regular commits:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">a</span> <span class="c1"># Will open $EDITOR for message</span>
</pre></div>
</div>
<p>as you go. You can’t go wrong with more commits. Especially when developing as a team.</p>
<p>When you have finished a significant addition/improvement push it to Github using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">push</span> <span class="o">-</span><span class="n">u</span> <span class="n">origin</span> <span class="n">develop</span>
</pre></div>
</div>
<p>so that others working on the same branch can stay in sync with your developments. Similarly, you should be regularly pulling from the branch in order to stay in sync with what others are doing. To do so, use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">pull</span> <span class="n">origin</span> <span class="n">develop</span>
</pre></div>
</div>
<p>There are many great git tutorials on the web, and great documentation for all the commands. Use them!</p>
<p><strong>GIT Workflow</strong></p>
<p>All developers need to use Vincent Driessen’s <a class="reference external" href="http://nvie.com/posts/a-successful-git-branching-model">GitFlow</a> workflow when editing the GPEC package. PLEASE READ THE ENTIRE POST. It is short, very thorough, and good for both experienced and new git users.</p>
<dl class="docutils">
<dt>The highlights are,</dt>
<dd><ul class="first last simple">
<li>There are two permanent branches: master and develop</li>
<li>The master branch is only updated for at release ready stages</li>
<li>New features should be developed in short-lived (days) branches coming off of and merging back to the development branch.</li>
</ul>
</dd>
</dl>
<p>Specific instructions are given in the link above as to exactly how to branch and merge these various branches. For example, the –no-ff option should be used when merging in order to keep branch histories. Just follow the examples and you wont go wrong!</p>
<p><strong>Debugging</strong></p>
<p>To do a thorough debugging, try adding more flags with the FFLAGS variable. A good set might be,:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">FFLAGS</span><span class="o">=</span><span class="s2">&quot;-g -O0 -Wall -fbacktrace -fcheck=all&quot;</span>
</pre></div>
</div>
<p>for example.</p>
</div>
<div class="section" id="documentation">
<h3>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h3>
<p>Documentation of the GPEC package has been created using sphinx and is hosted by <a class="reference external" href="http://princetonuniversity.github.io/GPEC/">PrincetonUniveristy GitHub Pages</a>.</p>
<p>The documentation for the entire package is contained within the top level docs directory, and uses rst files with syntax that should be straight forward to mimic. If creating a new .rst file be sure to include it in the top level organization of the index.rst file.</p>
<p><strong>Building the documentation</strong></p>
<p>The very first time, starting from the root of the repo:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">docs</span>
<span class="n">make</span> <span class="n">init</span>
</pre></div>
</div>
<p>This creates a new gpec-docs directory in the same directory that contains the local repository (not in the repository itself) and checks out a devoted documentation branch. With that set up, the following will build the documentation and push it to the proper place:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">ghpages</span>
</pre></div>
</div>
<p>This is now all you need to do in order to update docs for that local repo from there on out.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="contact.html" title="Contact Information"
             >next</a> |</li>
        <li class="right" >
          <a href="releases.html" title="Accessing Releases"
             >previous</a> |</li>
        <li><a href="index.html">home</a>|&nbsp;</li>
        <li><a href="search.html">search</a>|&nbsp;</li>
 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2015, PPPL.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.0.
    </div>
  </body>
</html>