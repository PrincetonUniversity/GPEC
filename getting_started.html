<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>GPEC User Agreement &#8212; GPEC 1.2.3 documentation</title>
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.2.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Choice of Spectral Decomposition" href="outputs.html" />
    <link rel="prev" title="Indices and tables" href="index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
<a href="index.html"><img src="_static/logo.png" border="0" alt="py4sci"/></a>
</div>



  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          GPEC</a>
        <span class="navbar-text navbar-version pull-left"><b>1.2</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="references.html">Research</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li><a href="examples.html">Learn</a></li>
                <li><a href="developers.html">Develop</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li><a href="source_documentation.html">Code</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Jump to <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">GPEC User Agreement</a></li>
<li class="toctree-l1"><a class="reference internal" href="#installations">Installations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#public">Public</a></li>
<li class="toctree-l2"><a class="reference internal" href="#personal">Personal</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#running-using-omfit">Running using OMFIT</a></li>
<li class="toctree-l1"><a class="reference internal" href="#manual-run-process">Manual Run Process</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#keeping-track-of-coordinates">Keeping Track of Coordinates</a></li>
<li class="toctree-l2"><a class="reference internal" href="#inputs">Inputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#outputs">Outputs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="outputs.html">Choice of Spectral Decomposition</a><ul>
<li class="toctree-l2"><a class="reference internal" href="outputs.html#comparing-to-real-space-quantities">Comparing to Real Space Quantities</a></li>
<li class="toctree-l2"><a class="reference internal" href="outputs.html#interfacing-with-surfmn">Interfacing with SURFMN</a></li>
<li class="toctree-l2"><a class="reference internal" href="outputs.html#interfacing-with-vacuum">Interfacing with VACUUM</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="outputs.html#coordinates">Coordinates</a></li>
<li class="toctree-l1"><a class="reference internal" href="outputs.html#output-files">Output Files</a><ul>
<li class="toctree-l2"><a class="reference internal" href="outputs.html#ascii-file-outputs">ASCII File Outputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="outputs.html#binary-file-outputs">Binary File Outputs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="outputs.html#xdraw">xdraw</a></li>
<li class="toctree-l1"><a class="reference internal" href="dcon_readme.html">DCON README</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dcon_readme.html#determining-the-mhd-stability-of-axisymmetric-toroidal-plasmas">Determining the MHD Stability of Axisymmetric Toroidal Plasmas</a><ul>
<li class="toctree-l3"><a class="reference internal" href="dcon_readme.html#section-1-introduction">Section 1. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="dcon_readme.html#section-2-straight-fieldline-coordinates">Section 2. Straight-Fieldline Coordinates</a></li>
<li class="toctree-l3"><a class="reference internal" href="dcon_readme.html#section-3-installation">Section 3. Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="dcon_readme.html#section-4-equil-input">Section 4. EQUIL Input</a></li>
<li class="toctree-l3"><a class="reference internal" href="dcon_readme.html#section-5-dcon-input">Section 5. DCON Input</a></li>
<li class="toctree-l3"><a class="reference internal" href="dcon_readme.html#section-6-vacuum-input">Section 6. VACUUM Input</a></li>
<li class="toctree-l3"><a class="reference internal" href="dcon_readme.html#section-7-dcon-output">Section 7. DCON Output</a></li>
<li class="toctree-l3"><a class="reference internal" href="dcon_readme.html#section-8-orbit-input">Section 8. ORBIT Input</a></li>
<li class="toctree-l3"><a class="reference internal" href="dcon_readme.html#section-9-orbit-input">Section 9. ORBIT Input</a></li>
<li class="toctree-l3"><a class="reference internal" href="dcon_readme.html#section-10-other-documentation">Section 10. Other documentation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="namelists.html">The EQUIL Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="namelists.html#the-dcon-namelist">The DCON Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="namelists.html#the-gpec-namelist">The GPEC Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="namelists.html#the-pentrc-namelist">The PENTRC Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">OMFIT Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html#manual-examples">Manual Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="source_documentation.html">PYPEC Source documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="source_documentation.html#regression-compare-for-comparing-restults"><code class="docutils literal"><span class="pre">regression.compare</span></code> – For Comparing Restults</a><ul>
<li class="toctree-l3"><a class="reference internal" href="source_documentation.html#interface">Interface</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="releases.html">GPEC v1.2.3</a><ul>
<li class="toctree-l2"><a class="reference internal" href="releases.html#fixes">Fixes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="releases.html#gpec-v1-2-2">GPEC v1.2.2</a><ul>
<li class="toctree-l2"><a class="reference internal" href="releases.html#adds">Adds</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases.html#changes">Changes</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases.html#id1">Fixes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="releases.html#gpec-v1-2-1">GPEC v1.2.1</a><ul>
<li class="toctree-l2"><a class="reference internal" href="releases.html#id2">Fixes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="releases.html#gpec-v1-2-0">GPEC v1.2.0</a><ul>
<li class="toctree-l2"><a class="reference internal" href="releases.html#id3">Adds</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases.html#id4">Changes</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases.html#id5">Fixes</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases.html#removes">Removes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="releases.html#gpec-v1-1-7">GPEC v1.1.7</a><ul>
<li class="toctree-l2"><a class="reference internal" href="releases.html#features">Features</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="releases.html#gpec-v1-1-6">GPEC v1.1.6</a><ul>
<li class="toctree-l2"><a class="reference internal" href="releases.html#id6">Fixes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="releases.html#gpec-v1-1-5">GPEC v1.1.5</a><ul>
<li class="toctree-l2"><a class="reference internal" href="releases.html#id7">Adds</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases.html#id8">Fixes</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases.html#documentation">Documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="releases.html#gpec-v1-1-4">GPEC v1.1.4</a><ul>
<li class="toctree-l2"><a class="reference internal" href="releases.html#id9">Fixes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="releases.html#gpec-v1-1-3">GPEC v1.1.3</a><ul>
<li class="toctree-l2"><a class="reference internal" href="releases.html#id10">Fixes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="releases.html#gpec-v1-1-2">GPEC v1.1.2</a><ul>
<li class="toctree-l2"><a class="reference internal" href="releases.html#id11">Fixes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="releases.html#gpec-v1-1-1">GPEC v1.1.1</a><ul>
<li class="toctree-l2"><a class="reference internal" href="releases.html#id12">Fixes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="releases.html#gpec-v1-1-0">GPEC v1.1.0</a><ul>
<li class="toctree-l2"><a class="reference internal" href="releases.html#id13">Adds</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases.html#id14">Fixes</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases.html#id15">Documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="releases.html#gpec-v1-0-6">GPEC v1.0.6</a><ul>
<li class="toctree-l2"><a class="reference internal" href="releases.html#id16">Fixes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="releases.html#gpec-v1-0-5">GPEC v1.0.5</a><ul>
<li class="toctree-l2"><a class="reference internal" href="releases.html#id17">Fixes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="releases.html#gpec-v1-0-4">GPEC v1.0.4</a></li>
<li class="toctree-l1"><a class="reference internal" href="releases.html#gpec-v1-0-3">GPEC v1.0.3</a></li>
<li class="toctree-l1"><a class="reference internal" href="releases.html#gpec-v1-0-2">GPEC v1.0.2</a><ul>
<li class="toctree-l2"><a class="reference internal" href="releases.html#id18">Adds</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases.html#id19">Fixes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="releases.html#gpec-v1-0-1">GPEC v1.0.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="releases.html#gpec-v1-0-0">GPEC v1.0.0</a><ul>
<li class="toctree-l2"><a class="reference internal" href="releases.html#id20">Adds</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases.html#id21">Documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="releases.html#gpec-v0-4-0">GPEC v0.4.0</a><ul>
<li class="toctree-l2"><a class="reference internal" href="releases.html#id22">Fixes</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases.html#id23">Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases.html#id24">Documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="releases.html#gpec-v0-3-5">GPEC v0.3.5</a><ul>
<li class="toctree-l2"><a class="reference internal" href="releases.html#id25">Fixes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="releases.html#gpec-v0-3-4">GPEC v0.3.4</a><ul>
<li class="toctree-l2"><a class="reference internal" href="releases.html#id30">Fixes</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases.html#id31">Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases.html#speed-and-stability">Speed and Stability</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases.html#id32">Documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="releases.html#gpec-v0-3-3">GPEC v0.3.3</a></li>
<li class="toctree-l1"><a class="reference internal" href="releases.html#gpec-v0-3-2">GPEC v0.3.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="releases.html#gpec-v0-3-1">GPEC v0.3.1</a><ul>
<li class="toctree-l2"><a class="reference internal" href="releases.html#id33">Fixes</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases.html#id34">Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases.html#performance">Performance</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="releases.html#gpec-v0-3-0">GPEC v0.3.0</a><ul>
<li class="toctree-l2"><a class="reference internal" href="releases.html#id35">Fixes</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases.html#id36">Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases.html#id37">Performance</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="developers.html">General Perturbed Equilibrium Codes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="developers.html#development">Development</a></li>
<li class="toctree-l2"><a class="reference internal" href="developers.html#documentation">Documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contact.html">GPEC &amp; PENT</a></li>
<li class="toctree-l1"><a class="reference internal" href="contact.html#dcon-rdcon">DCON &amp; RDCON</a></li>
<li class="toctree-l1"><a class="reference internal" href="contact.html#stride">STRIDE</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">DCON</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html#rdcon">RDCON</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html#stride">STRIDE</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html#gpec">GPEC</a><ul>
<li class="toctree-l2"><a class="reference internal" href="references.html#ideal">Ideal</a></li>
<li class="toctree-l2"><a class="reference internal" href="references.html#kinetic">Kinetic</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><ul>
<li><a class="reference internal" href="#">GPEC User Agreement</a></li>
<li><a class="reference internal" href="#installations">Installations</a><ul>
<li><a class="reference internal" href="#public">Public</a></li>
<li><a class="reference internal" href="#personal">Personal</a></li>
</ul>
</li>
<li><a class="reference internal" href="#running-using-omfit">Running using OMFIT</a></li>
<li><a class="reference internal" href="#manual-run-process">Manual Run Process</a><ul>
<li><a class="reference internal" href="#keeping-track-of-coordinates">Keeping Track of Coordinates</a></li>
<li><a class="reference internal" href="#inputs">Inputs</a></li>
<li><a class="reference internal" href="#outputs">Outputs</a></li>
</ul>
</li>
</ul>

  <li>
    <a href="index.html" title="Previous Chapter: Indices and tables"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Indices and tables</span>
    </a>
  </li>
  <li>
    <a href="outputs.html" title="Next Chapter: Choice of Spectral Decomposition"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Choice of Spe... &raquo;</span>
    </a>
  </li>
<form action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="col-md-12 content">
      
  <div class="section" id="gpec-user-agreement">
<span id="installing"></span><span id="getting-started"></span><h1>GPEC User Agreement<a class="headerlink" href="#gpec-user-agreement" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Date:</th><td class="field-body">2016.03.18</td>
</tr>
</tbody>
</table>
<p>GPEC development is funded by the US Department of Energy (DoE) through the Princeton Plasma Physics Laboratory (PPPL), and distribution is subject to DoE and PPPL requirements and restrictions.</p>
<p>The scientific results from the use of GPEC are intended for publication and sharing in the open scientific community.</p>
<p>In order to acquire access to the code sources and/or executables, the user must agree to the following:</p>
<ol class="arabic simple">
<li>The user will not rename, modify or redistribute the code, in whole or in part, to 3rd parties without consent of the authors, although the code may be imbedded unmodified and shared within a larger software project.</li>
<li>If modifications or improvements are needed, these will be developed in collaboration with the authors, so that they may be redistributed through the GPEC git versioning distributions to the benefit of all GPEC users.</li>
<li>The users will include the proper code name(s) and appropriate references in published results and presentations. The will must email a draft of any article/report/presentation/etc. using GPEC results to the authors prior to publishing.</li>
</ol>
</div>
<div class="section" id="installations">
<span id="installation"></span><h1>Installations<a class="headerlink" href="#installations" title="Permalink to this headline">¶</a></h1>
<div class="section" id="public">
<h2>Public<a class="headerlink" href="#public" title="Permalink to this headline">¶</a></h2>
<p>Public installations are available at PPPL (portal.pppl.gov), GA (iris.gat.com), and NFRI (ukstar). Public installations are regularly cloned and kept up to date with the <a class="reference external" href="_releases">official releases</a>.</p>
<p>The default gpec module at each institution tracks the latest release. Public installations of the “development” (beta) branch are also available if you should happen to need a new feature right away.</p>
<p>On any of the above clusters, use the module system to obtain the appropriate gpec environment. For example, use:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">module</span> <span class="n">avail</span>
</pre></div>
</div>
<p>to see the available releases or simply,:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">module</span> <span class="n">load</span> <span class="n">gpec</span>
</pre></div>
</div>
<p>to load the current default. This will load the necessary compiler modules and add the appropriate directories to your path, such that you can simply call the executables (i.e. dcon, gpec, etc.).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">On the Princeton portal.pppl.gov computers, users must first execute <code class="code docutils literal"><span class="pre">module</span> <span class="pre">use</span> <span class="pre">/p/gpec/modules</span></code>. It is recomended this be included in a .bashrc or similar file.</p>
</div>
<p>Loading the gpec module sets the $GPECHOME environment variable. This is helpful for find the path to source code, including such helpful things as the <cite>examples &lt;_examples&gt;</cite> at $GPECHOME/docs/examples.</p>
<p>Modules for any past minor release versions installed are retained on the cluster, so you can always go back to re-run old work. The latest development branch is also available using,:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">module</span> <span class="n">load</span> <span class="n">gpec</span><span class="o">/</span><span class="mf">0.0</span>
</pre></div>
</div>
<p>but this should be used with the understanding that many of it’s features are in beta testing and no guaranties are made for its stability. We ask that users always <cite>contact a developer &lt;_contacts&gt;</cite> if/when thinking of using a beta feature.</p>
</div>
<div class="section" id="personal">
<h2>Personal<a class="headerlink" href="#personal" title="Permalink to this headline">¶</a></h2>
<p>Personal copies of GPEC should be cloned from the <a class="reference external" href="https://github.com/PrincetonUniversity/GPEC">Github repository</a>, as the make process uses git commands assuming the installation is a git repository. The repository remains private for now, so only those with access will be able to install/update the package. Contact <a class="reference external" href="mailto:nlogan&#37;&#52;&#48;pppl&#46;gov">nlogan<span>&#64;</span>pppl<span>&#46;</span>gov</a> for access.</p>
<p>The global makefile can be found in the install directory. This essentially enters and makes each individual subdirectory. Each subdirectory’s makefile references the DEFAULTS.inc file, also in install.
Compiled using this install makefile, the executables will then be available in their individual subdirectories as well as collected in the bin directory.</p>
<p>Compiling should use intel compilers with the -qopenmp flag for parallel kinetic calculations in the gpec executable. An example make command might be,:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">FFLAGS</span><span class="o">=</span><span class="s2">&quot;-qopenmp&quot;</span> <span class="mi">2</span><span class="o">&gt;&amp;</span><span class="mi">1</span> <span class="o">|</span> <span class="n">tee</span> <span class="n">make</span><span class="o">.</span><span class="n">log</span>
</pre></div>
</div>
<p>where the logging part is merely a useful suggestion. Appropriate compiler details for the major fusion clusters on which public installations are maintained is recorded in the $GPECHOME/install/DEFAULTS.inc file annotations.</p>
</div>
</div>
<div class="section" id="running-using-omfit">
<span id="run-process"></span><h1>Running using OMFIT<a class="headerlink" href="#running-using-omfit" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="http://gafusion.github.io/OMFIT-source/">OMFIT</a> is a framework for integrated modeling. It contains a GPEC module for preparing, running, and analyzing GPEC runs that is highly recommended for pure users (non-developers). OMFIT is the recommended way to run GPEC for new users. Public releases of OMFIT are available on most major fusion clusters, or it can be downloaded to your personal computer.</p>
<p>Using OMFIT guides users through a clean workflow, providing many powerful tools to facilitate the necessary preparation of inputs. It provides the interface, for example, with EFIT and profile fitting tools on many machines. It also enables users to submit GPEC jobs remotely, quickly visualize outputs, perform powerful python post-processing, and share projects with others.</p>
<p>A complete description of the OMFIT GPEC module can be found on the <a class="reference external" href="http://gafusion.github.io/OMFIT-source/modules/mod_GPEC.html#mod-gpec">module documentation page</a> and a thorough discussion of the workflow, inputs, outputs, and post-processing can be found in <a class="reference external" href="https://docs.google.com/document/d/1qSUjJZYmET8-X08rRGBT6L_9D9fzEN_zCV75OX_ZbZk/edit?usp=sharing">the corresponding google doc tutorial</a>.</p>
</div>
<div class="section" id="manual-run-process">
<h1>Manual Run Process<a class="headerlink" href="#manual-run-process" title="Permalink to this headline">¶</a></h1>
<p>This section outlines the basic run process with reference to some of the most common input-output manipulation in GPEC runs. This is not meant to be a complete coverage of the many options and capabilities available to the user during this process. For a complete list of the input and output control variables please see the Namelist Variables section.</p>
<p>Public copies of the GPEC releases are available at /p/gpec on portal. The user should usually choose the latest release, lets call it &lt;release&gt;. To run GPEC, a user should first navigate to a directory in which they wish to run and write outputs. Once in the run-directory the user needs (at a minimum) the dcon, equil, vac, and gpec namelist files, which can be copied from /p/gpec/&lt;release&gt;/input for example. The user can then follow these simple steps to complete a GPEC run:</p>
<ol class="arabic simple">
<li>Edit the dcon.in file</li>
</ol>
<blockquote>
<div><ul class="simple">
<li>DCON will only run for a single toroidal mode number. Set the toroidal mode number for the entire run here using the crucial parameter nn. GPEC outputs for multiple toroidal mode numbers can be added together in the post-processing.</li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="2">
<li>Edit the equil.in file</li>
</ol>
<blockquote>
<div><ul class="simple">
<li>Specify the specific plasma shot of interest by setting the initial equilibrium file (ex: EFIT output g-file).</li>
<li>Set the range of normalized flux to be included in the calculation.</li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="3">
<li>$/p/gpec/&lt;release&gt;/bin/dcon</li>
</ol>
<blockquote>
<div><ul class="simple">
<li>This creates the euler.bin file, which provides a orthonormal basis of force balance states for GPEC.</li>
<li>Once this is created, you can various effects on this equilibrium by changing the 3D field input in gpec.in without having to run DCON again.</li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="4">
<li>Edit the gpec.in file</li>
</ol>
<blockquote>
<div><ul class="simple">
<li>Specify the 3D error field input file to be used in GPEC to perturb the 2D equilibrium.<ul>
<li>This must match the psihigh variable used in equil.in.</li>
</ul>
</li>
<li>Set the flags to specify the desired outputs.</li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="5">
<li>/p/gpec/&lt;release&gt;/bin/gpec</li>
</ol>
<blockquote>
<div><ul class="simple">
<li>That’s it! Now go look at your output files.</li>
</ul>
</div></blockquote>
<p>Note that GPEC takes only two inputs. The file containing the 2D plasma equilibrium is specified in equil.in prior to the DCON run and the file defining the 3D error field on the plasma boundary surface is specified in GPEC.in prior to the the GPEC calculations.</p>
<div class="section" id="keeping-track-of-coordinates">
<span id="coordinates"></span><h2>Keeping Track of Coordinates<a class="headerlink" href="#keeping-track-of-coordinates" title="Permalink to this headline">¶</a></h2>
<p>Keeping all the different coordinate systems used in a GPEC run can be intimidating to the first time user. Luckily, there is no reason to fear! GPEC easily switches between coordinate systems, and does not require consistency throughout the run process. That is, the inputs and outputs can have different coordinates. The coordinate system used for the DCON run specify the working coordinates for GPEC. The jac_in specified in gpec.in specifies the coordinate system used by the 3D error field input file, and jac_out specifies the coordinate system of the GPEC outputs. GPEC handles the transitions between these three coordinate systems all internally.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The responsibility of the user is to make sure the GPEC input Jacobian is consistent with the 3D error field input file and the PENTRC input jacobian is consistent with the GPEC output. OMFIT helps sync some of this automatically. However, the user should be aware that each coordinate system has different strengths. Hamada coordinates have the best convergence properties in general, but are poor for the inboard side of the plasma. PEST coordinates are user friendly but poor for outboard resolution. Boozer coordinates tend to find a middle ground between these, with mild convergence and fair resolution throughout the plasma.</p>
</div>
<p>The above requirements are all that is needed to understand the internal workings of GPEC’s coordinate transforms. There is, however, a final question of the various “normal” toroidal angles as defined for a specific machine. GPEC does not take into account the sign of the toroidal field. The result is, that for machines such as DIII-D with “normal” toroidal field defined as negative (BCENTER&lt;0 in efit equilibria) the phase of GPEC outputs will not match the machine-defined toroidal angle. To convert three dimensional GPEC outputs in such cases to machine coordinates it may be necessary to take the complex conjugate of a given amplitude and multiply equilibrium output toroidal fields by negative one.</p>
</div>
<div class="section" id="inputs">
<span id="id1"></span><h2>Inputs<a class="headerlink" href="#inputs" title="Permalink to this headline">¶</a></h2>
<p>At this point it is obvious that GPEC calculations hinge on first acquiring two types of data. GPEC interfaces with the input data by simple reads of formatted text files. The format and file path’s are specified in the .in files used in the run process, and are called on to initialize the ideal equilibrium solver.</p>
<p>The first input, equilibrium profile data, is specified in the equil.in file and can come in many different forms. By far the most common option is “efit”, in which case a two dimensional EFIT output g-file is used to specify the original axi-symmetric equilibrium. This equilibrium data and file format are widely used across multiple machines, and alternative formats are supported by GPEC when necessary. It is worth noting that significant differences between kinetic EFIT equilibria and the more simple non-kinetic EFITs has been noted. Obtaining the best 2D equilibrium data possible is encouraged for detailed calculations, however the casual user should not have need to concern themselves too heavily with this input source short of looking for the kinetic EFIT when possible.</p>
<p>The second input, the 3D “error field” data, is somewhat more specific in its requirements. The input data can be again read from a file, and accepts a small number of select formats. These files must specify the external field on the surface of the GPEC plasma boundary defined by the psihigh variable in equil.in. This means that the data must be pre-processed using knowledge of both the non-axisymmetric external field (applied and/or intrinsic), the same equilibrium used in the GPEC corresponding calculation, and the exact magnetic surface used in that calculation. This requirement of coordination by the user is an easy pitfall for the un-wary. If utilizing this method, be sure that all work is consistent! To avoid the pitfalls associated with the above method a in-house Biot-Savart module that contains various coil geometries has been added as of GPEC 2.00. Using the coil_flag in gpec.in will result in the reading of yet another input file “coil.in” and the fields from the coils/currents specified therein will be calculated on the appropriate surface. Finally, the harmonic_flag allows users to apply a set amplitude harmonic on the boundary. All the 3D field input may be used (or not) in any combination, and the total boundary condition will be a sum of those used.</p>
</div>
<div class="section" id="outputs">
<span id="results"></span><h2>Outputs<a class="headerlink" href="#outputs" title="Permalink to this headline">¶</a></h2>
<p>The results of an GPEC run depend on the output flags selected in gpec.in prior to the run. Without getting into the specifics of each output, there are a few important properties any GPEC run that should always be kept in minds. Each GPEC run always returns its results in the form of consistently named .out files in the run-directory. This means that it will overwrite any previous run’s results if they are not moved first. Always move any results worth keeping to a separate directory and keep track of which runs used which inputs. Outputs are expensive, so try to limit runs to only output the essential physics of interest each time.</p>
<p>An important property of GPEC results for post-processing is their linearity. GPEC calculates results for a single toroidal harmonic. When appropriate, results from multiple runs can simply be added (to obtain a total perturbed field for example). In the same spirit, the amplitude of a plasma response calculated by GPEC is linear with the error-field. Thus, plasma response fields can be multiplier by a constant to simulate changes in a driven 3D error field.</p>
</div>
</div>


    </div>
    
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="_sources/getting_started.rst.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2015, PPPL.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.7.<br/>
    </p>
  </div>
</footer>
  </body>
</html>