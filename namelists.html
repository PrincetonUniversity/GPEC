<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Namelist Variables &mdash; GPEC 0.3.4 documentation</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.3.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="GPEC 0.3.4 documentation" href="index.html" />
    <link rel="next" title="Tutorial Examples" href="examples.html" />
    <link rel="prev" title="DCON README" href="dcon_readme.html" /> 
  </head>
  <body>

<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
<a href="index.html"><img src="_static/logo.png" border="0" alt="py4sci"/></a>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="examples.html" title="Tutorial Examples"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="dcon_readme.html" title="DCON README"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">home</a>|&nbsp;</li>
        <li><a href="search.html">search</a>|&nbsp;</li>
 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Namelist Variables</a><ul>
<li><a class="reference internal" href="#the-equil-namelist">The EQUIL Namelist</a></li>
<li><a class="reference internal" href="#the-dcon-namelist">The DCON Namelist</a></li>
<li><a class="reference internal" href="#the-ipec-namelist">The IPEC Namelist</a></li>
<li><a class="reference internal" href="#the-pentrc-namelist">The PENTRC Namelist</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="dcon_readme.html"
                        title="previous chapter">DCON README</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="examples.html"
                        title="next chapter">Tutorial Examples</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/namelists.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="namelist-variables">
<h1>Namelist Variables<a class="headerlink" href="#namelist-variables" title="Permalink to this headline">¶</a></h1>
<p>Fully annotated namelist input files can be found in the input directory of your GPEC installation.</p>
<p>The major input files requiring user interaction are as follows.</p>
<div class="section" id="the-equil-namelist">
<h2>The EQUIL Namelist<a class="headerlink" href="#the-equil-namelist" title="Permalink to this headline">¶</a></h2>
<p>This namelist specifies the equilibrium inputs and how equilibrium quantities are splined for use in the various executables.</p>
<div class="highlight-python"><div class="highlight"><pre>&amp;EQUIL_CONTROL
    eq_type=&quot;efit&quot;       ! Type of the input 2D equilibrium file. Accepts efit, chease, fluxgrid, transp, jsolver, lar, sol, etc.
    eq_filename = &quot;../docs/examples/DIIID_example/g147131.02300_DIIID_KEFIT&quot; ! Path to input file

    jac_type=&quot;hamada&quot;    ! Working coordinate system for all DCON and GPEC calculations. Overrides individual powers. Accepts hamada, pest, boozer, equal_arc
    power_bp=0           ! del.B ~ B_p**power_bp * B**power_b / R**power_r
    power_b=0            ! del.B ~ B_p**power_bp * B**power_b / R**power_r
    power_r=0            ! del.B ~ B_p**power_bp * B**power_b / R**power_r

    grid_type=&quot;ldp&quot;      ! Radial grid packing of equilibrium quantities. Accepts rho, ldp or original. ldp packs points near the core and edge.
    psilow=1e-2          ! Minimum value of psi, normalized from 0 to 1
    psihigh=0.99         ! Maximum value of psi, normalized from 0 to 1
    mpsi=64              ! Number of radial grid intervals for equilibrium quantities
    mtheta=256           ! Number of equally spaced poloidal grid intervals for all splines
    newq0=0              ! Grad-Shafranov solution invariant adjustment of the q profile to give the specified value of q at the axis. Default 0 uses input file value.
    etol=1e-7            ! Tolerance in equilibrium field integrations

    input_only=f         ! Generate information about the input and then quit with no further calculation
/
&amp;EQUIL_OUTPUT
    gse_flag=f           ! Produces diagnostic output for accuracy of solution to Grad-Shafranov equation
    out_eq_1d=f          ! Ascii output of 1D equilibrium file data
    bin_eq_1d=f          ! Binary output of 1D equilibrium file data
    out_eq_2d=f          ! Ascii output of 2D equilibrium file data
    bin_eq_2d=t          ! Binary output of 2D equilibrium file data (set true for GPEC)
    out_2d=f             ! Ascii output of processed 2D data
    bin_2d=f             ! Binary output of processed 2D data
    dump_flag=f          ! Binary dump of basic equilibrium data and 2D rzphi spline
/
</pre></div>
</div>
</div>
<div class="section" id="the-dcon-namelist">
<h2>The DCON Namelist<a class="headerlink" href="#the-dcon-namelist" title="Permalink to this headline">¶</a></h2>
<p>This namelist controls the behavior of the DCON code and determines its outputs.</p>
<div class="highlight-python"><div class="highlight"><pre>&amp;DCON_CONTROL
    bal_flag=f           ! Ideal MHD ballooning criterion for short wavelengths
    mat_flag=t           ! Construct coefficient matrices for diagnostic purposes
    ode_flag=t           ! Integrate ODE&#39;s for determining stability of internal long-wavelength mode (must be true for GPEC)
    vac_flag=t           ! Compute plasma, vacuum, and total energies for free-boundary modes

    sas_flag=t           ! Safety factor (q) limit determined as q_ir+dmlim where q_ir is the equil outermost rational
    dmlim=0.2            ! See sas_flag
    qhigh=1e3            ! Integration terminated at q limit determined by minimum of qhigh and qa from equil
    sing_start=0         ! Start integration at the sing_start&#39;th rational from the axis (psilow)

    nn=1                 ! Toroidal mode number
    delta_mlow=12        ! Expands lower bound of Fourier harmonics
    delta_mhigh=12       ! Expands upper bound of  Fourier harmonics
    delta_mband=0        ! Integration keeps only this wide a band of solutions along the diagonal in m,m&#39;
    mthvac=512           ! Number of points used in splines over poloidal angle at plasma-vacuum interface. Overrides vac.in mth.
    thmax0=1             ! Linear multiplier on the automatic choice of theta integration bounds for high-n ideal ballooning stability computation (strictly, -inf to -inf)

    kin_flag = t         ! Kinetic EL equation (default: false)
    con_flag = t         ! Continue integration through layers (default: false)
    kinfac1 = 1.0        ! Scale factor for energy contribution (default : 1.0)
    kinfac2 = 1.0        ! Scale factor for torque contribution (default : 1.0)
    kingridtype = 0      ! Regular grid method (default : 0)
    passing_flag = t     ! Includes passing particle effects (default: false)
    ktanh_flag = t       ! Ignore kinetic effects in the core smoothly (default: false)
    ktc = 0.1            ! Parameter activated by ktanh_flag: roughly corresponds to core width ignored (default: 0.1)
    ktw = 50.0           ! Parameter activated by ktanh_flag: width of hyper-tangential functions (default: 50.0)
    electron_flag = f    ! Calculates electron contributions

    tol_nr=1e-5          ! Relative tolerance of dynamic integration steps away from rationals
    tol_r=1e-6           ! Relative tolerance of dynamic integration steps near rationals
    crossover=1e-2       ! Fractional distance from rational q at which tolerance is switched to tol_r
    singfac_min=1e-4     ! Fractional distance from rational q at which ideal jump condition is enforced
    ucrit=1e4            ! Maximum fraction of solutions allowed before re-normalized
/
&amp;DCON_OUTPUT
    crit_break=t         ! Color of the crit curve changes when crossing a singular surface

    ahb_flag=f           ! Output normal magnetic field eigenvalues and eigenfunctons at plasma-vacuum interface (must be false for GPEC)
    msol_ahb=1           ! Number of eigenfunctions output by ahb_flag=t ?
    mthsurf0=1           ! Linear multiplier on number of boundary points used to display surface eigenfunctions for ahgb_flag=t

    bin_euler=t          ! Output M psi-by-M euler-lagrange solutions to binary file euler.bin
    euler_stride=1       ! Output only every euler_stride&#39;th psi step to binary file

    out_bal1=f           ! Ascii output for bal_flag poloidal functions
    bin_bal1=f           ! Binary output for bal_flag poloidal functions
    out_bal2=f           ! Ascii output for bal_flag functions
    bin_bal2=f           ! Binary output for bal_flag functions
/
</pre></div>
</div>
</div>
<div class="section" id="the-ipec-namelist">
<h2>The IPEC Namelist<a class="headerlink" href="#the-ipec-namelist" title="Permalink to this headline">¶</a></h2>
<p>This namelist sets the inputs, controls the behavior, and determines the outputs of the IPEC code.</p>
<div class="highlight-python"><div class="highlight"><pre>&amp;IPEC_INPUT
   dcon_dir   = &#39;&#39;                   ! Path to DCON outputs. Individual file paths are appended to this
   idconfile  = &#39;euler.bin&#39;          ! Eigenfunctions output by DCON run
   ieqfile    = &#39;psi_in.bin&#39;         ! Flux surfaces output by DCON run
   ivacuumfile= &#39;vacuum.bin&#39;         ! Vacuum info output by DCON run
   rdconfile  = &#39;gal_solution.bin&#39;   ! Galkin functions output by resistive DCON run

   jac_in=&quot;hamada&quot;          ! Coordinate system of external perturbation (affects data_flag and harmonic_flag). Options include: pest,boozer,hamada
   jsurf_in=1               ! True(1) if external perturbation is area weighted (i.e. flux)
   tmag_in =0               ! True(1) if external perturbation has toroidal angle defined by jac_in. False(0) if machine angle.
   mthsurf =0               ! Number of poloidal angle gridpoints. Minimum of twice the Nyquist condition from DCON m limits is enforced.

   coil_flag=t              ! Calculate external perturbation from coils in coil.in

   data_flag=f              ! Apply perturbation from thrid party code output
   data_type=&quot;surfmn&quot;       ! Name of said code. Choose: surfmn,??
   infile=&quot;path/to/file&quot;    ! Path to said output
   nmin=0                   ! Extra parameters needed to read surfmn files.
   nmax=64                  ! Extra parameters needed to read surfmn files.
   mmin=-64                 ! Extra parameters needed to read surfmn files.
   mmax=64                  ! Extra parameters needed to read surfmn files.

   harmonic_flag=f          ! Apply self-defined perturbations
   cosmn(3)=1e-4            ! Real part of m=3 component (n defined by DCON run).
   sinmn(6)=1e-4            ! Imaginary part of m=6 component. etc.

   displacement_flag=f      ! Perturbations are displacement (m). Default is field (T).
   fixed_boundary_flag=f    ! Total perturbation = external perturbation

   mode_flag = f            ! Return only a single DCON eigenfunction defined by mode (ignores external pert.)
   mode  = 0                ! DCON eigen function index (1 is least stable)
   filter_types = &#39;w&#39;       ! Isolate the filter_modes of energy (w), reluctance (r), permiability (p) or singular coupling (s) eigenvectors/singular-vectors
   filter_modes = 0         ! Number of modes isolated, negative values isolate backwards from the last mode
/
&amp;IPEC_CONTROL
   resp_index=0             ! Integer 0-4, determining method of inductance matrix formation. 0 uses energy identity, and is recommended.
   sing_spot=5e-4           ! Minimum distance to singular surface in (m-nq) space
   reg_flag=f               ! Regularize the solution near resonant surfaces
   reg_spot=5e-2            ! Regularize by (m-nq)^2/((m-nq)^2+reg_spot^2)
   chebyshev_flag=f         ! Fit Chebyshev polynomials to the displacement.
   nche=20                  ! Number of Chebyshev polynomials used
/
&amp;IPEC_OUTPUT
   jac_out=&quot;hamada&quot;         ! Coordinate system of outputs
   jsurf_out=0              ! True(1) for area weighted outputs (only appends standard ipec_control output)
   tmag_out=0               ! True(1) for magnetic toroidal angle outputs (affects singcoup and singfld, appends ipec_control)

   resp_flag=t              ! Output energy, reluctance, inductance, and permeability eigenvalues, eigenvectors, and matrices
   filter_flag=t            ! Outputs energy, reluctance, permeability, and (optionally) the singular-coupling eigenmodes on the control surface
   singcoup_flag=f          ! Calculate coupling of each m to resonant surfaces
   singfld_flag=t           ! Output of resonant surface quantities (flux,current,etc.)
   vsingfld_flag=f          ! Output of vacuum resonant surface quantities

   pmodb_flag=f             ! Outputs delta-B_Lagrangian
   xbnormal_flag=t          ! Outputs normal displacement and field in plasma
   vbnormal_flag=f          ! Outputs vacuum normal displacement and field in plasma
   xclebsch_flag=f          ! Outputs clebsch coordinate displacement for PENT
   dw_flag=t                ! Outputs self-consistent energy and torque profiles (when kin_flag=t from DCON)

   eqbrzphi_flag=f          ! Outputs equilibrium field on regular (r,z) grid
   brzphi_flag=f            ! Outputs perturbed field on regular (r,z) grid
   xrzphi_flag=f            ! Outputs displacement on regular (r,z) grid
   vbrzphi_flag=f           ! Outputs field on regular (r,z) grid due to total boundary surface current (not a real field)
   vvbrzphi_flag=f          ! Outputs field on regular (r,z) grid due to external perturbation surface current (not a real field)
   vsbrzphi_flag=f          ! Outputs the field on regular (r,z) grid due to singular surface currents
   ss_flag(3)=f             ! Outputs the field on regular (r,z) grid due to the 3rd singular surface current, etc.
   xbrzphifun_flag=f        ! Outputs r,z, and perturbation vectors on psi,theta grid
   arzphifun_flag=f         ! Outputs r,z, and vector potential on psi,theta grid

   nr = 64                  ! Number of radial grid points in rzphi outputs
   nz = 124                 ! Number of vertical grid points in rzphi outputs
   fun_flag=f               ! Write outputs to (r,z) in addition to default (psi,m)
   flux_flag=f              ! Write outputs to (psi,theta) in addition to default (psi,m)
   bin_flag=f               ! Write binary outputs for use with xdraw
   bin_2d_flag=f            ! Write 2D binary outputs for use with xdraw
   max_linesout=0           ! Maximum length of ascii data tables enforced by increasing radial step size (iff .gt. 0).
   verbose=t                ! Print run log to terminal
/
&amp;IPEC_DIAGNOSE
   timeit=t                 ! Print timer splits for major subroutines
   radvar_flag=t            ! Map various radial variables (rho,psi_tor) on psi_n grid
/
</pre></div>
</div>
</div>
<div class="section" id="the-pentrc-namelist">
<h2>The PENTRC Namelist<a class="headerlink" href="#the-pentrc-namelist" title="Permalink to this headline">¶</a></h2>
<p>This namelist sets the inputs, controls the behavior, and determines the outputs of the IPEC code.</p>
<div class="highlight-python"><div class="highlight"><pre>&amp;PENT_INPUT
    kinetic_file=&quot;kinetic.txt&quot;          ! Ascii profiles. columns: psi_n, ni(m^-3), ne(m^-3), ti(eV), te(eV), omega_EXB(rad/s)
    peq_file  = &quot;ipec_xclebsch_n1.out&quot;  ! Ascii displacement. columns: psi_n, m, real(xi^psi), imag(xi^psi), real(xi^alpha), imag(xi^alpha)
    idconfile = &quot;euler.bin&quot;             ! Dcon output
    data_dir = &quot;.&quot;                      ! Location of pre-formed fnml matrix used in rlar and clar methods (check release package)

    mi = 2                              ! Main ion mass (u)
    zi = 1                              ! Main ion charge (e)
    mimp = 12                           ! Impurity mass (u)
    zimp = 6                            ! Impurity charge (e)
    nl = 0                              ! Bounce harmonic range (-nl to nl)
    electron = .false.                  ! Electron contribution
    nutype = &quot;harmonic&quot;                 ! Collision operator: &quot;zero&quot;, &quot;krook&quot;, &quot;harmonic&quot;
    f0type = &quot;maxwellian&quot;               ! Distribution function: &quot;maxwellian&quot;
    jac_in = &quot;&quot;                         ! Jacobian of peq_file harmonic decomposition
/
&amp;PENT_CONTROL
    wefac = 1                           ! Artificial factor applied to omega_EXB
    wdfac = 1                           ! Artificial factor applied to omega_b
    wpfac = 1                           ! Artificial factor applied to omega_phi
    nufac = 1                           ! Artificial factor applied to collision operator
    divxfac = 1                         ! Artificial factor applied to div xi_perp

    atol_xlmda = 1e-12                  ! Absolute tolerance in energy and pitch integration
    rtol_xlmda = 1e-6                   ! Relative tolerance in energy and pitch integration
    atol_psi = 1e-6                     ! Absolute tolerance in psi_n integration
    rtol_psi = 1e-4                     ! Relative tolerance in psi_n integration
    ntheta = 128                        ! Poloidal angle grid for bounce integration
    nlmda = 128                         ! Pitch grid for omega_D, oemga_b, dJdJ

    xmax = 128                          ! Upper bound of energy integral (x=E/T)
    ximag = 0.0                         ! Step off real energy axis (use to avoid zero collisionality singularities)
    psilims = 0 1                       ! Range in psi_n
/
&amp;PENT_OUTPUT
    moment = &quot;pressure&quot;                 ! Use &#39;pressure&#39; for torque and particle transport, &#39;heat&#39; for heat transport

    fgar_flag = .true.                  ! Full    general aspect ratio calculation
    tgar_flag = .true.                  ! Trapped general aspect ratio calculation
    pgar_flag = .false.                 ! Passing general aspect ratio calculation
    clar_flag = .false.                 ! Circular large aspect ratio calculation
    rlar_flag = .false.                 ! Reduced large aspect ratio calculation
    fcgl_flag = .false.                 ! Fluid Chew-Goldberger-Low limit
    wxyz_flag = .false.                 ! Euler-lagrange equation matrix output at psiout
    fkmm_flag = .false.                 ! Full euler-lagrange matrix calculation (t,p also available)
    ftmm_flag = .false.                 ! Full torque mxm matrix calculation (t,p also available)
    fwmm_flag = .false.                 ! Full dW mxm matrix calculation (t,p also available)

    output_ascii = .true.               ! Write ascii output files
    output_netcdf = .true.              ! Write netcdf output files

    xlmda_out = .false.                 ! Output energy and pitch integrands on psi_out
    theta_out = .false.                 ! Output bounce integrands on psi_out
    psi_out = 0.1,0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1.0   ! 10 surfaces for energy, pitch, and poloidal outputs

    equil_grid = .false.                ! Recalculate each requested method on equilibrium grid from DCON
    input_grid = .false.                ! Recalculate each requested method on input displacements&#39; grid

    verbose = .true.                    ! Print progress to terminal
    clean = .false.                     ! Remove pentrc_*.out before running
/
&amp;PENT_ADMIN                             
    fnml_flag = .false.                 ! Special function matrix [JKP PRL 2009]
    ellip_flag = .false.                ! Elliptic integral functions
    diag_flag = .false.                 ! Diagnostic module
    tdebug = .false.                    ! Debug psi integration
    lambdadebug = .false.               ! Debug pitch integration
    xdebug = .false.                    ! Debug energy integration
/
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="examples.html" title="Tutorial Examples"
             >next</a> |</li>
        <li class="right" >
          <a href="dcon_readme.html" title="DCON README"
             >previous</a> |</li>
        <li><a href="index.html">home</a>|&nbsp;</li>
        <li><a href="search.html">search</a>|&nbsp;</li>
 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2015, PPPL.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>